Use Python to solve this problem.

Problem: Tabu Search for Graph Coloring

Description:
Solve the graph coloring problem using Tabu Search.
Color the graph with minimum number of colors such that no adjacent vertices have same color.

Input:
- First line: N M (number of vertices, number of edges)
- Next M lines: u v (edges, 0-indexed)
- Next line: tabu_size max_iterations

Output:
- First line: colors_used (number of colors used)
- Next line: coloring (space-separated colors for each vertex, 0-indexed)

Constraints:
- 10 ≤ N ≤ 1000
- 15 ≤ M ≤ 5000
- 10 ≤ tabu_size ≤ 100
- 100 ≤ max_iterations ≤ 5000

Examples:

Example 1:
Input:
10 15
0 1
0 2
1 3
2 3
3 4
4 5
5 6
6 7
7 8
8 9
9 0
1 4
2 5
3 6
4 7
50 1000

Output:
3
0 1 2 0 1 2 0 1 2 0

Example 2:
Input:
8 12
0 1
0 2
0 3
1 2
1 4
2 5
3 4
3 6
4 5
4 7
5 7
6 7
30 500

Output:
3
0 1 2 1 0 1 2 2

Implementation Approach:
1. Start with random coloring using upper bound colors
2. Use single vertex color changes for neighborhood generation
3. Maintain tabu list to avoid cycling
4. Aspiration criteria: accept tabu move if better than global best
5. Gradually reduce number of colors if feasible